{
  "id" : 1,
  "name" : "Name",
  "description" : "Description",
  "lastModifiedDate" : "2023-04-26T10:39:46Z",
  "lastModifiedAgent" : "structurizr-javascript",
  "properties" : {
    "structurizr.dsl" : "d29ya3NwYWNlIGV4dGVuZHMgLi4vd29ya3NwYWNlLmRzbCB7CgogICAgbW9kZWwgewogICAgICAgICMtLS1NaWNyb3NlcnZpY2VzIGRlcGxveW1lbnQKICAgICAgICBkZXBsb3ltZW50RW52aXJvbm1lbnQgIk1pY3Jvc2VydmljZXMgRGVwbG95bWVudCIgewogICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiQW1hem9uIFdlYiBTZXJ2aWNlcyBFS1MiIHsKICAgICAgICAgICAgICAgIHRhZ3MgIkFtYXpvbiBXZWIgU2VydmljZXMgLSBFbGFzdGljIEt1YmVybmV0ZXMgU2VydmljZSIKCiAgICAgICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiUHVibGljIFN1Ym5ldCIgewogICAgICAgICAgICAgICAgICAgIHRhZ3MgIkFtYXpvbiBXZWIgU2VydmljZXMgLSBWUEMgc3VibmV0IHB1YmxpYyIKICAgICAgICAgICAgICAgICAgICBhcGlHYXRld2F5ID0gaW5mcmFzdHJ1Y3R1cmVOb2RlICJBUEkgR2F0ZXdheSIgewogICAgICAgICAgICAgICAgICAgICAgICB0YWdzICJBbWF6b24gV2ViIFNlcnZpY2VzIC0gQVBJIEdhdGV3YXkiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRlcGxveW1lbnROb2RlICJQcml2YXRlIFN1Ym5ldCAtIHByaXYtbmV0LWEiIHsKICAgICAgICAgICAgICAgICAgICB0YWdzICJBbWF6b24gV2ViIFNlcnZpY2VzIC0gVlBDIHN1Ym5ldCBwcml2YXRlIgogICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnROb2RlICJFQzIgLSBFQzItYSJ7CiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3MgIkFtYXpvbiBXZWIgU2VydmljZXMgLSBFQzIgSW5zdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnROb2RlICJTZWFyY2ggV2ViIEFQSSIgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFncyAiTWljcm9zZXJ2aWNlcyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFdlYkFwaUluc3RhbmNlID0gY29udGFpbmVySW5zdGFuY2Ugc2VhcmNoV2ViQXBpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgIlB1YmxpYyBXZWIgQVBJIiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzICJNaWNyb3NlcnZpY2VzIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGljV2ViQXBpSW5zdGFuY2UgPSBjb250YWluZXJJbnN0YW5jZSBwdWJsaWNXZWJBcGkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiQWRtaW4gV2ViIEFQSSIgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFncyAiTWljcm9zZXJ2aWNlcyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkbWluV2ViQXBpSW5zdGFuY2UgPSBjb250YWluZXJJbnN0YW5jZSBhZG1pbldlYkFwaQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgIlByaXZhdGUgU3VibmV0IC0gcHJpdi1uZXQtYiIgewogICAgICAgICAgICAgICAgICAgIHRhZ3MgIkFtYXpvbiBXZWIgU2VydmljZXMgLSBWUEMgc3VibmV0IHByaXZhdGUiCiAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgIkVDMiAtIEVDMi1iIiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3MgIkFtYXpvbiBXZWIgU2VydmljZXMgLSBFQzIgSW5zdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnROb2RlICJBV1MgUkRTIiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzICJBbWF6b24gV2ViIFNlcnZpY2VzIC0gUkRTIFBvc3RncmVTUUwgaW5zdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkV3JpdGVSZWxhdGlvbmFsRGF0YWJhc2VJbnN0YW5jZSA9IGNvbnRhaW5lckluc3RhbmNlIHJlYWRXcml0ZVJlbGF0aW9uYWxEYXRhYmFzZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnROb2RlICJBV1MgT3BlblNlYXJjaCIgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFncyAiQW1hem9uIFdlYiBTZXJ2aWNlcyAtIEVsYXN0aWNzZWFyY2ggU2VydmljZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaERhdGFiYXNlSW5zdGFuY2UgPSBjb250YWluZXJJbnN0YW5jZSBzZWFyY2hEYXRhYmFzZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnROb2RlICJFbGFzdGljU2VhcmNoIEV2ZW50cyBDb25zdW1lciIgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFncyAiTWljcm9zZXJ2aWNlcyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsYXN0aWNTZWFyY2hFdmVudHNDb25zdW1lckluc3RhbmNlID0gY29udGFpbmVySW5zdGFuY2UgZWxhc3RpY1NlYXJjaEV2ZW50c0NvbnN1bWVyCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgIkFXUyBFbGFzdGlDYWNoZSIgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFncyAiQW1hem9uIFdlYiBTZXJ2aWNlcyAtIEVsYXN0aUNhY2hlIEZvciBNZW1jYWNoZWQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXJDYWNoZUluc3RhbmNlID0gY29udGFpbmVySW5zdGFuY2UgcmVhZGVyQ2FjaGUKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiQXBhY2hlIEthZmthIiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzICJBbWF6b24gV2ViIFNlcnZpY2VzIC0gTWFuYWdlZCBTdHJlYW1pbmcgZm9yIEthZmthIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9va0thZmthU3lzdGVtSW5zdGFuY2UgPSBjb250YWluZXJJbnN0YW5jZSBib29rS2Fma2FTeXN0ZW0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgIyBSZWxhdGlvbnNoaXAKICAgICAgICBhcGlHYXRld2F5IC0+IHB1YmxpY1dlYkFwaUluc3RhbmNlICJBY2Nlc3MgdG8iCiAgICAgICAgYXBpR2F0ZXdheSAtPiBzZWFyY2hXZWJBcGlJbnN0YW5jZSAiQWNjZXNzIHRvIgogICAgICAgIGFwaUdhdGV3YXkgLT4gYWRtaW5XZWJBcGlJbnN0YW5jZSAiQWNjZXNzIHRvIgogICAgfQoKICAgIHZpZXdzIHsKICAgICAgICBkZXBsb3ltZW50IGJvb2tzdG9yZVN5c3RlbSAiTWljcm9zZXJ2aWNlcyBEZXBsb3ltZW50IiB7CiAgICAgICAgICAgIGluY2x1ZGUgKgogICAgICAgICAgICBhdXRvTGF5b3V0IGxyCiAgICAgICAgfQoKICAgICAgICB0aGVtZSAiaHR0cHM6Ly9zdGF0aWMuc3RydWN0dXJpenIuY29tL3RoZW1lcy9hbWF6b24td2ViLXNlcnZpY2VzLTIwMjAuMDQuMzAvdGhlbWUuanNvbiIKICAgIH0KCn0K"
  },
  "configuration" : { },
  "model" : {
    "people" : [ {
      "id" : "2",
      "tags" : "Element,Person,User",
      "properties" : {
        "structurizr.dsl.identifier" : "authorizeduser"
      },
      "name" : "Authorized User",
      "description" : "A user of book store system, who has a personal account",
      "relationships" : [ {
        "id" : "18",
        "tags" : "Relationship",
        "sourceId" : "2",
        "destinationId" : "3",
        "description" : "Interacts with book records using"
      }, {
        "id" : "31",
        "tags" : "Relationship",
        "sourceId" : "2",
        "destinationId" : "4",
        "description" : "Administers books details via HTTP handlers"
      }, {
        "id" : "28",
        "tags" : "Relationship",
        "sourceId" : "2",
        "destinationId" : "8",
        "description" : "Searches books records via HTTPs handlers"
      }, {
        "id" : "39",
        "tags" : "Relationship",
        "sourceId" : "2",
        "destinationId" : "5",
        "description" : "Administers books detail using"
      } ],
      "location" : "Unspecified"
    }, {
      "id" : "1",
      "tags" : "Element,Person,User",
      "properties" : {
        "structurizr.dsl.identifier" : "publicuser"
      },
      "name" : "Public User",
      "description" : "Any user who can access but is not logged on to a portal",
      "relationships" : [ {
        "id" : "19",
        "tags" : "Relationship",
        "sourceId" : "1",
        "destinationId" : "3",
        "description" : "Interacts with book records using"
      }, {
        "id" : "25",
        "tags" : "Relationship",
        "sourceId" : "1",
        "destinationId" : "9",
        "description" : "Gets books details using"
      } ],
      "location" : "Unspecified"
    } ],
    "softwareSystems" : [ {
      "id" : "17",
      "tags" : "Element,Software System,External System",
      "properties" : {
        "structurizr.dsl.identifier" : "publishersystem"
      },
      "name" : "Publisher System",
      "description" : "An external system used for giving details about books published by Books Store System",
      "relationships" : [ {
        "id" : "23",
        "tags" : "Relationship,Async request",
        "sourceId" : "17",
        "destinationId" : "2",
        "description" : "Gives details about published books to"
      }, {
        "id" : "24",
        "tags" : "Relationship,Async request",
        "sourceId" : "17",
        "destinationId" : "1",
        "description" : "Gives details about published books to"
      } ],
      "location" : "Unspecified",
      "documentation" : { }
    }, {
      "id" : "16",
      "tags" : "Element,Software System,External System",
      "properties" : {
        "structurizr.dsl.identifier" : "authorizationsystem"
      },
      "name" : "Authorization System",
      "description" : "An external system used for authorization",
      "relationships" : [ {
        "id" : "22",
        "tags" : "Relationship,Async request",
        "sourceId" : "16",
        "destinationId" : "2",
        "description" : "Authorizes user"
      } ],
      "location" : "Unspecified",
      "documentation" : { }
    }, {
      "id" : "3",
      "tags" : "Element,Software System,Target System",
      "properties" : {
        "structurizr.dsl.identifier" : "bookstoresystem"
      },
      "name" : "Books Store System",
      "description" : "Allows users to interact with books records",
      "relationships" : [ {
        "id" : "21",
        "tags" : "Relationship,Async request",
        "sourceId" : "3",
        "destinationId" : "17",
        "description" : "Gives details about published books using"
      }, {
        "id" : "20",
        "tags" : "Relationship,Async request",
        "sourceId" : "3",
        "destinationId" : "16",
        "description" : "Authorizes user using"
      } ],
      "location" : "Unspecified",
      "containers" : [ {
        "id" : "4",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "adminwebapi"
        },
        "name" : "Admin Web API",
        "description" : "Allows only authorized users administering books details via HTTP handlers",
        "relationships" : [ {
          "id" : "34",
          "tags" : "Relationship",
          "sourceId" : "4",
          "destinationId" : "10",
          "description" : "Publishes events to"
        }, {
          "id" : "33",
          "tags" : "Relationship",
          "sourceId" : "4",
          "destinationId" : "13",
          "description" : "Administers records using",
          "technology" : "Reads data from and writes data to"
        }, {
          "id" : "32",
          "tags" : "Relationship,Async request",
          "sourceId" : "4",
          "destinationId" : "16",
          "description" : "Authorizes users using"
        } ],
        "technology" : "Go",
        "components" : [ {
          "id" : "7",
          "tags" : "Element,Component",
          "properties" : {
            "structurizr.dsl.identifier" : "eventspublisherservice"
          },
          "name" : "Events Publisher Service",
          "description" : "Publishes books-related domain events",
          "relationships" : [ {
            "id" : "44",
            "tags" : "Relationship",
            "sourceId" : "7",
            "destinationId" : "10",
            "description" : "Publishes books-related domain events to"
          } ],
          "technology" : "Go Service",
          "documentation" : { }
        }, {
          "id" : "6",
          "tags" : "Element,Component",
          "properties" : {
            "structurizr.dsl.identifier" : "authorizationservice"
          },
          "name" : "Authorization Service",
          "description" : "Allows authorizing users, books detail",
          "relationships" : [ {
            "id" : "43",
            "tags" : "Relationship,Async request",
            "sourceId" : "6",
            "destinationId" : "16",
            "description" : "Authorizes users using"
          } ],
          "technology" : "Go Service",
          "documentation" : { }
        }, {
          "id" : "5",
          "tags" : "Element,Component",
          "properties" : {
            "structurizr.dsl.identifier" : "bookservice"
          },
          "name" : "Book Service",
          "description" : "Allows administering books detail",
          "relationships" : [ {
            "id" : "41",
            "tags" : "Relationship",
            "sourceId" : "5",
            "destinationId" : "7",
            "description" : "Publishes books-related events to"
          }, {
            "id" : "40",
            "tags" : "Relationship",
            "sourceId" : "5",
            "destinationId" : "13",
            "description" : "Read from and write data to"
          }, {
            "id" : "42",
            "tags" : "Relationship",
            "sourceId" : "5",
            "destinationId" : "6",
            "description" : "Authorizes books detail using"
          } ],
          "technology" : "Go Service",
          "documentation" : { }
        } ],
        "documentation" : { }
      }, {
        "id" : "15",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "publisherrecurrentupdater"
        },
        "name" : "Publisher Recurrent Updater",
        "description" : "Updates the Read/Write Relational Database with detail from Publisher System",
        "relationships" : [ {
          "id" : "38",
          "tags" : "Relationship",
          "sourceId" : "15",
          "destinationId" : "4",
          "description" : "Updates data with detail from Publisher System using"
        }, {
          "id" : "37",
          "tags" : "Relationship",
          "sourceId" : "15",
          "destinationId" : "17",
          "description" : "Listens to external events coming from"
        } ],
        "technology" : "Kafka",
        "documentation" : { }
      }, {
        "id" : "14",
        "tags" : "Element,Container,Database",
        "properties" : {
          "structurizr.dsl.identifier" : "readercache"
        },
        "name" : "Reader Cache",
        "description" : "Caches books details",
        "technology" : "Memcached",
        "documentation" : { }
      }, {
        "id" : "10",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "bookkafkasystem"
        },
        "name" : "Book Kafka System",
        "description" : "Handles book-related domain events",
        "technology" : "Apache Kafka 3.0",
        "documentation" : { }
      }, {
        "id" : "12",
        "tags" : "Element,Container,Database",
        "properties" : {
          "structurizr.dsl.identifier" : "searchdatabase"
        },
        "name" : "Search Database",
        "description" : "Stores searchable books details",
        "technology" : "ElasticSearch",
        "documentation" : { }
      }, {
        "id" : "13",
        "tags" : "Element,Container,Database",
        "properties" : {
          "structurizr.dsl.identifier" : "readwriterelationaldatabase"
        },
        "name" : "Read/Write Relational Database",
        "description" : "Stores books details",
        "technology" : "PostgreSQL",
        "documentation" : { }
      }, {
        "id" : "11",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "elasticsearcheventsconsumer"
        },
        "name" : "ElasticSearch Events Consumer",
        "description" : "Listening to Kafka domain events and write publisher to Search Database for updating",
        "relationships" : [ {
          "id" : "36",
          "tags" : "Relationship",
          "sourceId" : "11",
          "destinationId" : "12",
          "description" : "Write publisher to"
        }, {
          "id" : "35",
          "tags" : "Relationship",
          "sourceId" : "11",
          "destinationId" : "10",
          "description" : "Listens to Kafka domain events using"
        } ],
        "technology" : "Go",
        "documentation" : { }
      }, {
        "id" : "8",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "searchwebapi"
        },
        "name" : "Search Web API",
        "description" : "Allows only authorized users searching books records via HTTPs handlers",
        "relationships" : [ {
          "id" : "30",
          "tags" : "Relationship",
          "sourceId" : "8",
          "destinationId" : "12",
          "description" : "Search read-only records using"
        }, {
          "id" : "29",
          "tags" : "Relationship,Async request",
          "sourceId" : "8",
          "destinationId" : "16",
          "description" : "Authorizes users using"
        } ],
        "technology" : "Go",
        "documentation" : { }
      }, {
        "id" : "9",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "publicwebapi"
        },
        "name" : "Public Web API",
        "description" : "Allows public users getting books details",
        "relationships" : [ {
          "id" : "27",
          "tags" : "Relationship",
          "sourceId" : "9",
          "destinationId" : "14",
          "description" : "Reads/writes data to"
        }, {
          "id" : "26",
          "tags" : "Relationship",
          "sourceId" : "9",
          "destinationId" : "13",
          "description" : "Reads data from"
        } ],
        "technology" : "Go",
        "documentation" : { }
      } ],
      "documentation" : { }
    } ],
    "deploymentNodes" : [ {
      "id" : "45",
      "tags" : "Element,Deployment Node,Amazon Web Services - Elastic Kubernetes Service",
      "name" : "Amazon Web Services EKS",
      "environment" : "Microservices Deployment",
      "instances" : "1",
      "children" : [ {
        "id" : "48",
        "tags" : "Element,Deployment Node,Amazon Web Services - VPC subnet private",
        "name" : "Private Subnet - priv-net-a",
        "environment" : "Microservices Deployment",
        "instances" : "1",
        "children" : [ {
          "id" : "49",
          "tags" : "Element,Deployment Node,Amazon Web Services - EC2 Instance",
          "name" : "EC2 - EC2-a",
          "environment" : "Microservices Deployment",
          "instances" : "1",
          "children" : [ {
            "id" : "52",
            "tags" : "Element,Deployment Node,Microservices",
            "name" : "Public Web API",
            "environment" : "Microservices Deployment",
            "instances" : "1",
            "containerInstances" : [ {
              "id" : "53",
              "tags" : "Container Instance",
              "properties" : {
                "structurizr.dsl.identifier" : "publicwebapiinstance"
              },
              "relationships" : [ {
                "id" : "61",
                "sourceId" : "53",
                "destinationId" : "59",
                "description" : "Reads data from",
                "linkedRelationshipId" : "26"
              }, {
                "id" : "70",
                "sourceId" : "53",
                "destinationId" : "69",
                "description" : "Reads/writes data to",
                "linkedRelationshipId" : "27"
              } ],
              "environment" : "Microservices Deployment",
              "deploymentGroups" : [ "Default" ],
              "instanceId" : 1,
              "containerId" : "9"
            } ]
          }, {
            "id" : "50",
            "tags" : "Element,Deployment Node,Microservices",
            "name" : "Search Web API",
            "environment" : "Microservices Deployment",
            "instances" : "1",
            "containerInstances" : [ {
              "id" : "51",
              "tags" : "Container Instance",
              "properties" : {
                "structurizr.dsl.identifier" : "searchwebapiinstance"
              },
              "relationships" : [ {
                "id" : "64",
                "sourceId" : "51",
                "destinationId" : "63",
                "description" : "Search read-only records using",
                "linkedRelationshipId" : "30"
              } ],
              "environment" : "Microservices Deployment",
              "deploymentGroups" : [ "Default" ],
              "instanceId" : 1,
              "containerId" : "8"
            } ]
          }, {
            "id" : "54",
            "tags" : "Element,Deployment Node,Microservices",
            "name" : "Admin Web API",
            "environment" : "Microservices Deployment",
            "instances" : "1",
            "containerInstances" : [ {
              "id" : "55",
              "tags" : "Container Instance",
              "properties" : {
                "structurizr.dsl.identifier" : "adminwebapiinstance"
              },
              "relationships" : [ {
                "id" : "60",
                "sourceId" : "55",
                "destinationId" : "59",
                "description" : "Administers records using",
                "technology" : "Reads data from and writes data to",
                "linkedRelationshipId" : "33"
              }, {
                "id" : "73",
                "sourceId" : "55",
                "destinationId" : "72",
                "description" : "Publishes events to",
                "linkedRelationshipId" : "34"
              } ],
              "environment" : "Microservices Deployment",
              "deploymentGroups" : [ "Default" ],
              "instanceId" : 1,
              "containerId" : "4"
            } ]
          } ]
        } ]
      }, {
        "id" : "46",
        "tags" : "Element,Deployment Node,Amazon Web Services - VPC subnet public",
        "name" : "Public Subnet",
        "environment" : "Microservices Deployment",
        "instances" : "1",
        "infrastructureNodes" : [ {
          "id" : "47",
          "tags" : "Element,Infrastructure Node,Amazon Web Services - API Gateway",
          "properties" : {
            "structurizr.dsl.identifier" : "apigateway"
          },
          "name" : "API Gateway",
          "relationships" : [ {
            "id" : "77",
            "tags" : "Relationship",
            "sourceId" : "47",
            "destinationId" : "55",
            "description" : "Access to"
          }, {
            "id" : "75",
            "tags" : "Relationship",
            "sourceId" : "47",
            "destinationId" : "53",
            "description" : "Access to"
          }, {
            "id" : "76",
            "tags" : "Relationship",
            "sourceId" : "47",
            "destinationId" : "51",
            "description" : "Access to"
          } ],
          "environment" : "Microservices Deployment"
        } ]
      }, {
        "id" : "56",
        "tags" : "Element,Deployment Node,Amazon Web Services - VPC subnet private",
        "name" : "Private Subnet - priv-net-b",
        "environment" : "Microservices Deployment",
        "instances" : "1",
        "children" : [ {
          "id" : "57",
          "tags" : "Element,Deployment Node,Amazon Web Services - EC2 Instance",
          "name" : "EC2 - EC2-b",
          "environment" : "Microservices Deployment",
          "instances" : "1",
          "children" : [ {
            "id" : "58",
            "tags" : "Element,Deployment Node,Amazon Web Services - RDS PostgreSQL instance",
            "name" : "AWS RDS",
            "environment" : "Microservices Deployment",
            "instances" : "1",
            "containerInstances" : [ {
              "id" : "59",
              "tags" : "Container Instance",
              "properties" : {
                "structurizr.dsl.identifier" : "readwriterelationaldatabaseinstance"
              },
              "environment" : "Microservices Deployment",
              "deploymentGroups" : [ "Default" ],
              "instanceId" : 1,
              "containerId" : "13"
            } ]
          }, {
            "id" : "65",
            "tags" : "Element,Deployment Node,Microservices",
            "name" : "ElasticSearch Events Consumer",
            "environment" : "Microservices Deployment",
            "instances" : "1",
            "containerInstances" : [ {
              "id" : "66",
              "tags" : "Container Instance",
              "properties" : {
                "structurizr.dsl.identifier" : "elasticsearcheventsconsumerinstance"
              },
              "relationships" : [ {
                "id" : "74",
                "sourceId" : "66",
                "destinationId" : "72",
                "description" : "Listens to Kafka domain events using",
                "linkedRelationshipId" : "35"
              }, {
                "id" : "67",
                "sourceId" : "66",
                "destinationId" : "63",
                "description" : "Write publisher to",
                "linkedRelationshipId" : "36"
              } ],
              "environment" : "Microservices Deployment",
              "deploymentGroups" : [ "Default" ],
              "instanceId" : 1,
              "containerId" : "11"
            } ]
          }, {
            "id" : "68",
            "tags" : "Element,Deployment Node,Amazon Web Services - ElastiCache For Memcached",
            "name" : "AWS ElastiCache",
            "environment" : "Microservices Deployment",
            "instances" : "1",
            "containerInstances" : [ {
              "id" : "69",
              "tags" : "Container Instance",
              "properties" : {
                "structurizr.dsl.identifier" : "readercacheinstance"
              },
              "environment" : "Microservices Deployment",
              "deploymentGroups" : [ "Default" ],
              "instanceId" : 1,
              "containerId" : "14"
            } ]
          }, {
            "id" : "71",
            "tags" : "Element,Deployment Node,Amazon Web Services - Managed Streaming for Kafka",
            "name" : "Apache Kafka",
            "environment" : "Microservices Deployment",
            "instances" : "1",
            "containerInstances" : [ {
              "id" : "72",
              "tags" : "Container Instance",
              "properties" : {
                "structurizr.dsl.identifier" : "bookkafkasysteminstance"
              },
              "environment" : "Microservices Deployment",
              "deploymentGroups" : [ "Default" ],
              "instanceId" : 1,
              "containerId" : "10"
            } ]
          }, {
            "id" : "62",
            "tags" : "Element,Deployment Node,Amazon Web Services - Elasticsearch Service",
            "name" : "AWS OpenSearch",
            "environment" : "Microservices Deployment",
            "instances" : "1",
            "containerInstances" : [ {
              "id" : "63",
              "tags" : "Container Instance",
              "properties" : {
                "structurizr.dsl.identifier" : "searchdatabaseinstance"
              },
              "environment" : "Microservices Deployment",
              "deploymentGroups" : [ "Default" ],
              "instanceId" : 1,
              "containerId" : "12"
            } ]
          } ]
        } ]
      } ]
    } ]
  },
  "documentation" : { },
  "views" : {
    "systemContextViews" : [ {
      "key" : "SystemContext",
      "order" : 1,
      "softwareSystemId" : "3",
      "dimensions" : {
        "width" : 1826,
        "height" : 2600
      },
      "automaticLayout" : {
        "implementation" : "Graphviz",
        "rankDirection" : "TopBottom",
        "rankSeparation" : 300,
        "nodeSeparation" : 300,
        "edgeSeparation" : 0,
        "vertices" : false
      },
      "enterpriseBoundaryVisible" : true,
      "elements" : [ {
        "id" : "1",
        "x" : 797,
        "y" : 200
      }, {
        "id" : "2",
        "x" : 426,
        "y" : 2000
      }, {
        "id" : "3",
        "x" : 443,
        "y" : 800
      }, {
        "id" : "16",
        "x" : 426,
        "y" : 1400
      }, {
        "id" : "17",
        "x" : 1176,
        "y" : 1400
      } ],
      "relationships" : [ {
        "id" : "18",
        "vertices" : [ {
          "x" : 276,
          "y" : 1700
        }, {
          "x" : 276,
          "y" : 1400
        } ]
      }, {
        "id" : "24"
      }, {
        "id" : "23"
      }, {
        "id" : "22"
      }, {
        "id" : "21"
      }, {
        "id" : "20"
      }, {
        "id" : "19"
      } ]
    } ],
    "containerViews" : [ {
      "key" : "Containers",
      "order" : 2,
      "softwareSystemId" : "3",
      "dimensions" : {
        "width" : 4620,
        "height" : 2020
      },
      "automaticLayout" : {
        "implementation" : "Graphviz",
        "rankDirection" : "TopBottom",
        "rankSeparation" : 300,
        "nodeSeparation" : 300,
        "edgeSeparation" : 0,
        "vertices" : false
      },
      "externalSoftwareSystemBoundariesVisible" : true,
      "elements" : [ {
        "id" : "11",
        "x" : 3950,
        "y" : 819
      }, {
        "id" : "12",
        "x" : 3200,
        "y" : 1419
      }, {
        "id" : "13",
        "x" : 2450,
        "y" : 1419
      }, {
        "id" : "14",
        "x" : 1700,
        "y" : 1419
      }, {
        "id" : "15",
        "x" : 2450,
        "y" : 219
      }, {
        "id" : "16",
        "x" : 950,
        "y" : 819
      }, {
        "id" : "17",
        "x" : 200,
        "y" : 819
      }, {
        "id" : "1",
        "x" : 200,
        "y" : 1419
      }, {
        "id" : "2",
        "x" : 950,
        "y" : 1419
      }, {
        "id" : "4",
        "x" : 3200,
        "y" : 819
      }, {
        "id" : "8",
        "x" : 2450,
        "y" : 819
      }, {
        "id" : "9",
        "x" : 1700,
        "y" : 819
      }, {
        "id" : "10",
        "x" : 3950,
        "y" : 1419
      } ],
      "relationships" : [ {
        "id" : "32",
        "vertices" : [ {
          "x" : 2900,
          "y" : 669
        }, {
          "x" : 1671,
          "y" : 669
        } ]
      }, {
        "id" : "31",
        "vertices" : [ {
          "x" : 1521,
          "y" : 1419
        }, {
          "x" : 3050,
          "y" : 1119
        } ]
      }, {
        "id" : "30"
      }, {
        "id" : "29",
        "vertices" : [ {
          "x" : 2150,
          "y" : 669
        }, {
          "x" : 1671,
          "y" : 669
        } ]
      }, {
        "id" : "28",
        "vertices" : [ {
          "x" : 1521,
          "y" : 1419
        }, {
          "x" : 2300,
          "y" : 1119
        } ]
      }, {
        "id" : "27"
      }, {
        "id" : "37",
        "vertices" : [ {
          "x" : 800,
          "y" : 819
        } ]
      }, {
        "id" : "26"
      }, {
        "id" : "36"
      }, {
        "id" : "25"
      }, {
        "id" : "35"
      }, {
        "id" : "24"
      }, {
        "id" : "23"
      }, {
        "id" : "34"
      }, {
        "id" : "22"
      }, {
        "id" : "33"
      }, {
        "id" : "38"
      } ]
    } ],
    "componentViews" : [ {
      "key" : "Components",
      "order" : 3,
      "dimensions" : {
        "width" : 2978,
        "height" : 2620
      },
      "automaticLayout" : {
        "implementation" : "Graphviz",
        "rankDirection" : "TopBottom",
        "rankSeparation" : 300,
        "nodeSeparation" : 300,
        "edgeSeparation" : 0,
        "vertices" : false
      },
      "containerId" : "4",
      "externalContainerBoundariesVisible" : true,
      "elements" : [ {
        "id" : "13",
        "x" : 2328,
        "y" : 820
      }, {
        "id" : "2",
        "x" : 932,
        "y" : 2020
      }, {
        "id" : "16",
        "x" : 220,
        "y" : 1420
      }, {
        "id" : "5",
        "x" : 970,
        "y" : 220
      }, {
        "id" : "6",
        "x" : 220,
        "y" : 820
      }, {
        "id" : "7",
        "x" : 970,
        "y" : 820
      }, {
        "id" : "10",
        "x" : 970,
        "y" : 1420
      } ],
      "relationships" : [ {
        "id" : "40"
      }, {
        "id" : "41"
      }, {
        "id" : "42"
      }, {
        "id" : "43"
      }, {
        "id" : "22"
      }, {
        "id" : "44"
      }, {
        "id" : "39",
        "vertices" : [ {
          "x" : 1570,
          "y" : 1720
        }, {
          "x" : 1570,
          "y" : 820
        } ]
      } ]
    } ],
    "deploymentViews" : [ {
      "key" : "Deployment-001",
      "order" : 4,
      "softwareSystemId" : "3",
      "dimensions" : {
        "width" : 3728,
        "height" : 2498
      },
      "automaticLayout" : {
        "implementation" : "Graphviz",
        "rankDirection" : "LeftRight",
        "rankSeparation" : 300,
        "nodeSeparation" : 300,
        "edgeSeparation" : 0,
        "vertices" : false
      },
      "environment" : "Microservices Deployment",
      "elements" : [ {
        "id" : "66",
        "x" : 2247,
        "y" : 1022
      }, {
        "id" : "55",
        "x" : 1139,
        "y" : 409
      }, {
        "id" : "56",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "45",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "46",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "68",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "57",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "47",
        "x" : 239,
        "y" : 1022
      }, {
        "id" : "58",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "69",
        "x" : 2247,
        "y" : 1634
      }, {
        "id" : "59",
        "x" : 2247,
        "y" : 409
      }, {
        "id" : "48",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "49",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "71",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "72",
        "x" : 2997,
        "y" : 563
      }, {
        "id" : "50",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "62",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "51",
        "x" : 1139,
        "y" : 1634
      }, {
        "id" : "63",
        "x" : 2997,
        "y" : 1330
      }, {
        "id" : "52",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "53",
        "x" : 1139,
        "y" : 1022
      }, {
        "id" : "65",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "54",
        "x" : 175,
        "y" : 175
      } ],
      "relationships" : [ {
        "id" : "70",
        "vertices" : [ {
          "x" : 1901,
          "y" : 1455
        }, {
          "x" : 1935,
          "y" : 1501
        } ]
      }, {
        "id" : "61",
        "vertices" : [ {
          "x" : 1901,
          "y" : 888
        }, {
          "x" : 1935,
          "y" : 843
        } ]
      }, {
        "id" : "60"
      }, {
        "id" : "74"
      }, {
        "id" : "73",
        "vertices" : [ {
          "x" : 1935,
          "y" : 230
        }, {
          "x" : 2801,
          "y" : 230
        } ]
      }, {
        "id" : "76",
        "vertices" : [ {
          "x" : 826,
          "y" : 1501
        } ]
      }, {
        "id" : "64",
        "vertices" : [ {
          "x" : 1935,
          "y" : 2113
        }, {
          "x" : 2801,
          "y" : 2113
        } ]
      }, {
        "id" : "75"
      }, {
        "id" : "67"
      }, {
        "id" : "77",
        "vertices" : [ {
          "x" : 826,
          "y" : 843
        } ]
      } ]
    } ],
    "configuration" : {
      "branding" : { },
      "styles" : {
        "elements" : [ {
          "tag" : "External System",
          "background" : "#999999",
          "color" : "#ffffff"
        }, {
          "tag" : "Database",
          "shape" : "Cylinder"
        } ],
        "relationships" : [ {
          "tag" : "Relationship",
          "dashed" : false
        }, {
          "tag" : "Async request",
          "dashed" : true
        } ]
      },
      "themes" : [ "https://static.structurizr.com/themes/default/theme.json", "https://static.structurizr.com/themes/amazon-web-services-2020.04.30/theme.json" ],
      "terminology" : { },
      "metadataSymbols" : "SquareBrackets",
      "lastSavedView" : "Deployment-001"
    }
  }
}